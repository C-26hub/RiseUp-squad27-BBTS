<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <!-- CSS gerais e Favicon da página-->
    <link rel="stylesheet" href="../css/header-footer.css" />
    <link rel="stylesheet" href="../css/main-pesquisa.css" />
    <link rel="stylesheet" href="/B - CABECALHO/cabecalho.css">
    <link rel="stylesheet" href="../../D - Rodape/rodape.css" />
    <link rel="shortcut icon" href="../../C - Assets gerais/Favbbts.png" type="image/x-icon">
    <style>
      /* Esconder o botão nativo do VLibras — usamos apenas o botão customizado */
      [vw-access-button] {
        display: none !important;
        width: 0 !important;
        height: 0 !important;
        overflow: hidden !important;
        pointer-events: none !important;
      }
    </style>

    <title>BBTS - Pesquisa Inteligente</title>
  </head>
  <body style="margin: 0; font-family: Poppins, Arial, sans-serif">
    <div id="botoes-acessibilidade-extra">
      <button class="btn-acess">
        <img src="../imgs/icone-pessoa.png" alt="Acessibilidade" />
      </button>
      <button class="btn-vlibras">
        <img src="../imgs/libras.png" alt="VLibras" />
      </button>
      <button class="btn-audio">
        <img
          src="../imgs/icone-comando-voz.png"
          alt="Ler página em voz alta"
        />
      </button>
    </div>
    <main>
      <h1>Busca Inteligente</h1>
      <input
        id="searchInput"
        class="search-input"
        type="text"
        placeholder="Busque por nome da empresa, área de atuação, tecnologias utlizadas, palavra-chave"
        oninput="buscar()"
      />
      <div class="container-principal">
        <aside>
          <div class="filtros-avancados">
            <h3>Filtros avançados:</h3>
            <strong>Segmento</strong>
            <label
              ><input type="checkbox" class="filtro-seg" value="tecnologia" />
              Tecnologia</label
            >
            <label
              ><input type="checkbox" class="filtro-seg" value="saude" />
              Saúde</label
            >
            <label
              ><input type="checkbox" class="filtro-seg" value="finanças" />
              Finanças</label
            >
            <label
              ><input
                type="checkbox"
                class="filtro-seg"
                value="sustentabilidade"
              />
              Sustentabilidade</label
            >
            <label
              ><input type="checkbox" class="filtro-seg" value="educação" />
              Educação</label
            >
          </div>
          <div class="categorias">
            <button>CATEGORIAS DE ATUAÇÃO <span class="plus">+</span></button>
            <button>PORTE DA EMPRESA <span class="plus">+</span></button>
            <button>MODELO DE NEGÓCIO <span class="plus">+</span></button>
          </div>
          <div class="botao-filtro">
            <button onclick="aplicarFiltros()">APLICAR FILTROS</button>
            <button onclick="limparFiltros()">LIMPAR FILTROS</button>
          </div>
        </aside>
        <div id="resultados"></div>
      </div>
    </main>

    
    <!-- VLibras (plugin gov.br) -->
    <div vw class="enabled">
      <div vw-access-button class="active"></div>
      <div vw-plugin-wrapper>
        <div class="vw-plugin-top-wrapper"></div>
      </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
      (function initVlibras() {
        if (window.VLibras) {
          try {
            new window.VLibras.Widget('https://vlibras.gov.br/app');
          } catch (e) {
            console.warn('Erro ao inicializar VLibras', e);
          }
        } else {
          setTimeout(initVlibras, 100);
        }
      })();
    </script>

    <script>
      (function () {
        const hamburger = document.querySelector('.hamburger');
        const mobileMenu = document.querySelector('.mobile-menu');
        function toggleMenu() {
          const isOpen = mobileMenu.classList.toggle('open');
          hamburger.setAttribute('aria-expanded', String(isOpen));
          mobileMenu.setAttribute('aria-hidden', String(!isOpen));
        }
        hamburger.addEventListener('click', function (e) {
          e.stopPropagation();
          toggleMenu();
        });
        // fechar ao clicar fora
        document.addEventListener('click', function (e) {
          if (!mobileMenu.classList.contains('open')) return;
          if (!mobileMenu.contains(e.target) && !hamburger.contains(e.target)) {
            mobileMenu.classList.remove('open');
            hamburger.setAttribute('aria-expanded', 'false');
            mobileMenu.setAttribute('aria-hidden', 'true');
          }
        });
        // fechar com ESC
        document.addEventListener('keydown', function (e) {
          if (e.key === 'Escape' && mobileMenu.classList.contains('open')) {
            mobileMenu.classList.remove('open');
            hamburger.setAttribute('aria-expanded', 'false');
            mobileMenu.setAttribute('aria-hidden', 'true');
            hamburger.focus();
          }
        });
      })();
    </script>
    <script src="../../B - CABECALHO/cabecalho.js" defer></script>
    <script src="../../D - Rodape/Javascript/rodape.js"></script>
    <script src="../Javascript/pesquisa-detalhamento.js"></script>
    <script src="../../A - Acessibilidade/Acessibilidade.js"></script>
  </body>
</html>
